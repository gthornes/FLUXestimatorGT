# Analysis Configuration for FLUXestimator Single-Cell Project

######################################
## Script 1: Preprocessing Settings ##
######################################

# Data Processing Parameters
preprocessing:
  min_genes_per_cell: 200
  min_cells_per_gene: 3
  max_genes_per_cell: 5000
  max_mito_percent: 15
  target_sum: 10000  # For normalisation

# Quality Control
quality_control:
  filter_doublets: true
  doublet_rate: 0.04
  filter_low_quality: true
  
# Normalisation
normalisation:
  method: "log1p"  # log1p, scran, pearson_residuals
  scale_max: 10
  highly_variable_genes: 2000

#############################################
## Script 2: Cell Type Annotation Settings ##
#############################################

# Cell Type Annotation
cell_annotation:
  resolution: 0.8  # Leiden clustering resolution
  n_neighbors: 20
  n_pcs: 50
  marker_genes:
    # Example markers for reproductive tissue
    Stromal / Mesenchyme (common markers): [Pdgfrb, Des, Col1a1, Col3a1, Hoxa10, Hoxa11, Sparc, Vim, Wt1]
    Fibroblast (common markers): [Pdgfra, Cd34, Fbln1, Fbln2, Mfap5, Mmp2, Lum, Spon2]
    Fibroblast (Clec3b+): [Clec3b, Col14a1, Cd55, Cxcl16, Efemp1, Fap, Mmp3]
    Fibroblast (inner - subclustering): [Angpfl7, Hand2, Sfrp2]
    Fibroblast (inner): [Aldh1a2, Cxcl14, Smoc2]
    Fibroblast (ribosomal): [Gm42418, Gm26917, Cmss1, Hexb]
    Fibroblast (proliferating): [Pclaf, Mki67, Top2a]
    Mesothelium (mesothelium): [Upk3b, Fgf9]
    Myometrium (Perivascular & Muscle) (common markers): [Acta2, Des, Myh11, Mylk, Myl9, Tagln]
    Myometrium (smooth muscle): [Acta1, Actg2, Cnn1]
    Perivascular / Mural Cells (common markers): [Cspg4, Mcam, Rgs4, Rgs5,Notch3, Slc7a2]
    Perivascular (muscle): [Kitl]
    Perivascular (pericyte): [Vtn, Kcnj8, Myo1b, Abcc9, Ednrb]
    Endothelium (common markers): [Emcn, Tie1, Pecam1]
    Endothelium (lymphatic): [Cldn5, Prox1, Lyve1, Flt4]
    Endothelium (vascular): [Vwf, Flt1]
    Epithelium (common markers): [Cdh1, Cldn7, Krt7, Krt8, Krt18, Epcam]
    Epithelium (glandular): [Foxa2, Prss28, Prss29]
    Epithelium (luminal): [Tacstd2, Wnt7a, Wnt7b]
    Immune (common markers): [Ptprc]
    Immune - monocyte (common markers): [Ctss, H2-Eb1, H2-Aa, Cd68, Itgam, Ms4a6c]
    Immune - monocyte (macrophage): [C1qa, C1qb, Cx3cr1, Mrc1, Ms4a7, Adgre1, Cd14]
    Immune - monocyte (dendritic): [Il1b, Ciita, Cd209a, Xcr1, Clec9a]
    Immune (natural killer): [Itgax, Ccl5, Nkg7m, Gzmb, Prf1, Klra3, Klra4, Klra7, Klra8, Klrb1c, Klre1, Klrg1, Klri2]
    Immune (T-cell): [Cd3d, Cd3e, Cd3g, Il2ra]
    Immune - monocyte (proliferating): [Pclaf, Mki67, Top2a]

######################################
## Script 3: Metabolic Flux Analysis ##
######################################

# Metabolic Flux Analysis
flux_analysis:
  model: "recon3d"  # metabolic model to use (recon3d, iMM1415, etc.)
  objective_function: "biomass"
  solver: "glpk"  # glpk, cplex, gurobi
  flux_threshold: 1e-6
  gene_expression_threshold: 0.1
  
  # Pathways of interest
  pathways:
    - "Glycolysis / Gluconeogenesis"
    - "TCA Cycle"
    - "Oxidative Phosphorylation"
    - "Fatty Acid Metabolism"
    - "Amino Acid Metabolism"
    - "Nucleotide Metabolism"
    - "Steroid Biosynthesis"

# Visualisation
visualisation:
  figure_format: "png"  # png, pdf, svg
  dpi: 300
  color_palette: "tab10"
  umap_min_dist: 0.5
  umap_spread: 1.0

# Output
output:
  save_intermediate: true
  compression: "gzip"
  
# Computational Resources
compute:
  n_jobs: -1  # -1 for all cores
  random_state: 55
  memory_limit: "16GB"
